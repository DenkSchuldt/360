{"version":3,"sources":["components/Header.js","components/Viewer.js","components/index.js","index.js"],"names":["Header","style","target","rel","href","className","Viewer","props","id","idx","total","src","name","marker","location","setCurrentIndex","useState","viewer","setViewer","index","setIndex","useEffect","v","pano","window","PANOLENS","ImagePanorama","origin","container","document","getElementById","cameraFov","autoRotate","autoRotateSpeed","autoRotateActivationDuration","controlButtons","getCamera","translateX","translateY","clearAllCache","add","setPanorama","type","value","onKeyDown","e","key","x","parseInt","size","length","onChange","class","data-href","data-layout","data-size","escape","data-color-scheme","aria-label","App","history","useHistory","storedId","URLSearchParams","search","get","localStorage","getItem","data","findIndex","p","currentIndex","setItem","isPrevVisible","isNextVisible","onClick","item","replace","visibility","addEventListener","ReactDOM","render","StrictMode","path","to"],"mappings":"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","file":"static/js/main.628545c9.chunk.js","sourcesContent":["\nimport React from 'react';\n\nimport './Header.scss';\n\n\nconst Header = ({ style }) => {\n  return (\n    <header style={style}>\n      <h1>Aventuras en 360ยบ</h1>\n      <div>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://github.com/DenkSchuldt'>\n          <i className=\"fab fa-github\"></i>\n        </a>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://twitter.com/DenkSchuldt'>\n          <i className=\"fab fa-twitter\"></i>\n        </a>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://www.instagram.com/denkschuldt/'>\n          <i className=\"fab fa-instagram\"></i>\n        </a>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","\nimport React, { useState, useEffect } from 'react';\n\nimport './Viewer.scss';\n\n\nconst Viewer = props => {\n  const {\n    id, idx, total, src, name, marker, location, setCurrentIndex\n  } = props;\n  const [ viewer, setViewer ] = useState();\n  const [ index, setIndex ] = useState('');\n  useEffect(() => {\n    setIndex(idx + 1);\n    let pano = new window.PANOLENS.ImagePanorama(`${window.location.origin}/360/images/${src}`);\n    let v;\n    if (viewer) {\n      v = viewer;\n    } else {\n      v = new window.PANOLENS.Viewer({\n        container: document.getElementById('myVwr'),\n        cameraFov: 65,\n        autoRotate: true,\n        autoRotateSpeed: 1,\n        autoRotateActivationDuration: 10000,\n        controlButtons: ['fullscreen', 'setting']\n      });\n      v.getCamera().translateX(500);\n      v.getCamera().translateY(-100);\n      setViewer(v);\n    }\n    v.clearAllCache();\n    v.add(pano);\n    v.setPanorama(pano);\n  }, [idx]);\n  return (\n    <div\n      className='my-vwr-wrapper'>\n      <div className='my-vwr-header'>\n        <span className='index'>\n          <input\n            type='number'\n            value={index}\n            onKeyDown={e => {\n              if (e.key === 'Enter') {\n                const x = parseInt(index)\n                if (x >= 1 && x <= total) {\n                  setCurrentIndex(x - 1);\n                }\n              }\n            }}\n            size={`${index}`.length}\n            onChange={e => setIndex(e.target.value)}/>\n          { `/${total}` }\n        </span>\n        <div className='content'>\n          <strong>\n            { name }\n          </strong>\n          <div>\n           { location }\n          </div>\n        </div>\n      </div>\n      <div\n        id='myVwr'\n        className='my-vwr'>\n        {\n          marker &&\n          <a\n            href={marker}\n            target='_blank'\n            className='my-vwr-marker'\n            rel='noopener noreferrer'>\n            <i class=\"fas fa-map-marked-alt\"></i>\n          </a>\n        }\n      </div>\n      <div className='my-vwr-footer'>\n        <div\n          className=\"fb-share-button\"\n          data-href=\"https://360.dennyschuldt.com\"\n          data-layout=\"button\"\n          data-size=\"small\">\n          <a\n            target=\"_blank\"\n            href={`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}src=sdkpreparse`}\n            className=\"fb-xfbml-parse-ignore\">\n            Share\n          </a>\n        </div>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"twitter-share-button\"\n          href={`${escape('https://twitter.com/intent/tweet?text=' + window.location.href)}`}>\n          Tweet\n        </a>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"github-button\"\n          href=\"https://github.com/denkschuldt/360\"\n          data-color-scheme=\"no-preference: dark; light: dark; dark: dark;\"\n          aria-label=\"Star denkschuldt/360 on GitHub\">\n          Star\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default Viewer;\n","\nimport React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nimport Header from './Header';\nimport Viewer from './Viewer';\n\nimport data from './../data.json';\n\nimport './index.scss';\n\nconst App = () => {\n  const history = useHistory();\n  const [ currentIndex, setIndex ] = useState(() => {\n    const id = new URLSearchParams(history.location.search).get('id');\n    let storedId = id || localStorage.getItem('my-id');\n    const idx = data.findIndex(p => p.id == storedId);\n    return idx >= 0 ? idx : 0;\n  });\n  const setCurrentIndex = (idx) => {\n    setIndex(idx);\n    localStorage.setItem('my-id', data[idx]?.id);\n  }\n  const isPrevVisible = currentIndex > 0;\n  const isNextVisible = currentIndex < data.length - 1;\n  const previous = () => {\n    if (isPrevVisible) {\n      const item = data[currentIndex - 1];\n      history.replace(`?id=${item.id}`);\n      setCurrentIndex(currentIndex - 1);\n    }\n  }\n  const next = () => {\n    if (isNextVisible) {\n      const item = data[currentIndex + 1];\n      history.replace(`?id=${item.id}`);\n      setCurrentIndex(currentIndex + 1);\n    }\n  }\n  return (\n    <>\n      <Header/>\n      <main>\n        <button\n          onClick={previous}\n          style={\n            !isPrevVisible ?\n            { visibility: 'hidden' } :\n            {}\n          }\n          className='my-btn-left'>\n          <i className=\"fas fa-arrow-circle-left\"></i>\n        </button>\n        <Viewer\n          idx={currentIndex}\n          total={data.length}\n          {...data[currentIndex]}\n          setCurrentIndex={setCurrentIndex}/>\n        <button\n          onClick={next}\n          style={\n            !isNextVisible ?\n            { visibility: 'hidden' } :\n            {}\n          }\n          className='my-btn-right'>\n          <i className=\"fas fa-arrow-circle-right\"></i>\n        </button>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  BrowserRouter as Router\n} from \"react-router-dom\";\n\nimport App from './components';\n\nimport './index.css';\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Router>\n        <Switch>\n          <Route path=\"/\">\n            <App />\n          </Route>\n          <Route>\n            <Redirect to=\"/\"/>\n          </Route>\n        </Switch>\n      </Router>\n    </React.StrictMode>,\n    document.getElementById('AventurasEn360')\n  );\n});\n"],"sourceRoot":""}