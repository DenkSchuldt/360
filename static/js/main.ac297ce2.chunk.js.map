{"version":3,"sources":["components/Header.js","components/Viewer.js","components/index.js","index.js"],"names":["Header","style","target","rel","href","className","Viewer","props","id","idx","total","src","name","location","setCurrentIndex","useState","viewer","setViewer","index","setIndex","useEffect","console","log","window","origin","v","pano","PANOLENS","ImagePanorama","container","document","getElementById","cameraFov","autoRotate","autoRotateSpeed","autoRotateActivationDuration","getCamera","translateX","translateY","clearAllCache","add","setPanorama","type","value","onKeyDown","e","key","x","parseInt","size","length","onChange","data-href","data-layout","data-size","class","escape","data-color-scheme","aria-label","App","localStorage","getItem","search","URLSearchParams","get","data","findIndex","p","currentIndex","setItem","isPrevVisible","isNextVisible","onClick","visibility","addEventListener","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ac297ce2.chunk.js","sourcesContent":["\nimport React from 'react';\n\nimport './Header.scss';\n\n\nconst Header = ({ style }) => {\n  return (\n    <header style={style}>\n      <h1>Aventuras en 360ยบ</h1>\n      <div>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://github.com/DenkSchuldt'>\n          <i className=\"fab fa-github\"></i>\n        </a>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://twitter.com/DenkSchuldt'>\n          <i className=\"fab fa-twitter\"></i>\n        </a>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://www.instagram.com/denkschuldt/'>\n          <i className=\"fab fa-instagram\"></i>\n        </a>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","\nimport React, { useState, useEffect } from 'react';\n\nimport './Viewer.scss';\n\n\nconst Viewer = props => {\n  const {\n    id, idx, total, src, name, location, setCurrentIndex\n  } = props;\n  const [ viewer, setViewer ] = useState();\n  const [ index, setIndex ] = useState('');\n  useEffect(() => {\n    setIndex(idx + 1);\n    console.log(`${window.location.origin}/images/${src}`);\n    let pano = new window.PANOLENS.ImagePanorama(`${window.location.origin}/images/${src}`);\n    let v;\n    if (viewer) {\n      v = viewer;\n    } else {\n      v = new window.PANOLENS.Viewer({\n        container: document.getElementById('myVwr'),\n        cameraFov: 65,\n        autoRotate: true,\n        autoRotateSpeed: 1,\n        autoRotateActivationDuration: 10000\n      });\n      v.getCamera().translateX(500);\n      v.getCamera().translateY(-100);\n      setViewer(v);\n    }\n    v.clearAllCache();\n    v.add(pano);\n    v.setPanorama(pano);\n  }, [idx]);\n  return (\n    <div\n      className='my-vwr-wrapper'>\n      <div className='my-vwr-header'>\n        <span className='index'>\n          <input\n            type='number'\n            value={index}\n            onKeyDown={e => {\n              if (e.key === 'Enter') {\n                const x = parseInt(index)\n                if (x >= 1 && x <= total) {\n                  setCurrentIndex(x - 1);\n                }\n              }\n            }}\n            size={`${index}`.length}\n            onChange={e => setIndex(e.target.value)}/>\n          { `/${total}` }\n        </span>\n        <div className='content'>\n          <strong>\n            { name }\n          </strong>\n          <div>\n           { location }\n          </div>\n        </div>\n      </div>\n      <div\n        id='myVwr'\n        className='my-vwr'>\n      </div>\n      <div className='my-vwr-footer'>\n        <div\n          className=\"fb-share-button\"\n          data-href=\"https://360.dennyschuldt.com\"\n          data-layout=\"button\"\n          data-size=\"small\">\n          <a\n            target=\"_blank\"\n            href={`https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2F360.dennyschuldt.com%3Fid%3D${id}%2F&amp;src=sdkpreparse`}\n            class=\"fb-xfbml-parse-ignore\">\n            Share\n          </a>\n        </div>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"twitter-share-button\"\n          href={`https://twitter.com/intent/tweet?text=${escape(`Aventuras en 360: Mira ` + name)}`}>\n          Tweet\n        </a>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"github-button\"\n          href=\"https://github.com/denkschuldt/360\"\n          data-color-scheme=\"no-preference: dark; light: dark; dark: dark;\"\n          aria-label=\"Star denkschuldt/360 on GitHub\">\n          Star\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default Viewer;\n","\nimport React, { useState } from 'react';\n\nimport Header from './Header';\nimport Viewer from './Viewer';\n\nimport data from './../data.json';\n\nimport './index.scss';\n\nconst App = () => {\n  const [ currentIndex, setIndex ] = useState(() => {\n    let id = localStorage.getItem('my-id');\n    if (window.location.search) {\n      id = new URLSearchParams(window.location.search).get('id');\n    }\n    const idx = data.findIndex(p => p.id == id);\n    return idx >= 0 ? idx : 0;\n  });\n  const setCurrentIndex = (idx) => {\n    setIndex(idx);\n    localStorage.setItem('my-id', data[idx]?.id);\n  }\n  const isPrevVisible = currentIndex > 0;\n  const isNextVisible = currentIndex < data.length - 1;\n  const previous = () => {\n    if (isPrevVisible) {\n      setCurrentIndex(currentIndex - 1);\n    }\n  }\n  const next = () => {\n    if (isNextVisible) {\n      setCurrentIndex(currentIndex + 1);\n    }\n  }\n  return (\n    <>\n      <Header/>\n      <main>\n        <button\n          onClick={previous}\n          style={\n            !isPrevVisible ?\n            { visibility: 'hidden' } :\n            {}\n          }\n          className='my-btn-left'>\n          <i className=\"fas fa-arrow-circle-left\"></i>\n        </button>\n        <Viewer\n          idx={currentIndex}\n          total={data.length}\n          {...data[currentIndex]}\n          setCurrentIndex={setCurrentIndex}/>\n        <button\n          onClick={next}\n          style={\n            !isNextVisible ?\n            { visibility: 'hidden' } :\n            {}\n          }\n          className='my-btn-right'>\n          <i className=\"fas fa-arrow-circle-right\"></i>\n        </button>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components';\n\nimport './index.css';\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('AventurasEn360')\n  );\n});\n"],"sourceRoot":""}