{"version":3,"sources":["components/Header.js","components/Viewer.js","components/index.js","index.js"],"names":["Header","style","target","rel","href","className","Viewer","props","id","idx","total","src","name","location","setCurrentIndex","useState","viewer","setViewer","index","setIndex","useEffect","v","pano","window","PANOLENS","ImagePanorama","origin","container","document","getElementById","cameraFov","autoRotate","autoRotateSpeed","autoRotateActivationDuration","getCamera","translateX","translateY","clearAllCache","add","setPanorama","type","value","onKeyDown","e","key","x","parseInt","size","length","onChange","data-href","data-layout","data-size","escape","data-color-scheme","aria-label","App","useParams","history","useHistory","storedId","localStorage","getItem","data","findIndex","p","currentIndex","setItem","isPrevVisible","isNextVisible","onClick","item","push","visibility","addEventListener","ReactDOM","render","StrictMode","path","to"],"mappings":"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","file":"static/js/main.ab8f5bc8.chunk.js","sourcesContent":["\nimport React from 'react';\n\nimport './Header.scss';\n\n\nconst Header = ({ style }) => {\n  return (\n    <header style={style}>\n      <h1>Aventuras en 360ยบ</h1>\n      <div>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://github.com/DenkSchuldt'>\n          <i className=\"fab fa-github\"></i>\n        </a>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://twitter.com/DenkSchuldt'>\n          <i className=\"fab fa-twitter\"></i>\n        </a>\n        <a\n          target='_blank'\n          rel='noopener noreferrer'\n          href='https://www.instagram.com/denkschuldt/'>\n          <i className=\"fab fa-instagram\"></i>\n        </a>\n      </div>\n    </header>\n  )\n}\n\nexport default Header;\n","\nimport React, { useState, useEffect } from 'react';\n\nimport './Viewer.scss';\n\n\nconst Viewer = props => {\n  const {\n    id, idx, total, src, name, location, setCurrentIndex\n  } = props;\n  const [ viewer, setViewer ] = useState();\n  const [ index, setIndex ] = useState('');\n  useEffect(() => {\n    setIndex(idx + 1);\n    let pano = new window.PANOLENS.ImagePanorama(`${window.location.origin}/images/${src}`);\n    let v;\n    if (viewer) {\n      v = viewer;\n    } else {\n      v = new window.PANOLENS.Viewer({\n        container: document.getElementById('myVwr'),\n        cameraFov: 65,\n        autoRotate: true,\n        autoRotateSpeed: 1,\n        autoRotateActivationDuration: 10000\n      });\n      v.getCamera().translateX(500);\n      v.getCamera().translateY(-100);\n      setViewer(v);\n    }\n    v.clearAllCache();\n    v.add(pano);\n    v.setPanorama(pano);\n  }, [idx]);\n  return (\n    <div\n      className='my-vwr-wrapper'>\n      <div className='my-vwr-header'>\n        <span className='index'>\n          <input\n            type='number'\n            value={index}\n            onKeyDown={e => {\n              if (e.key === 'Enter') {\n                const x = parseInt(index)\n                if (x >= 1 && x <= total) {\n                  setCurrentIndex(x - 1);\n                }\n              }\n            }}\n            size={`${index}`.length}\n            onChange={e => setIndex(e.target.value)}/>\n          { `/${total}` }\n        </span>\n        <div className='content'>\n          <strong>\n            { name }\n          </strong>\n          <div>\n           { location }\n          </div>\n        </div>\n      </div>\n      <div\n        id='myVwr'\n        className='my-vwr'>\n      </div>\n      <div className='my-vwr-footer'>\n        <div\n          className=\"fb-share-button\"\n          data-href=\"https://360.dennyschuldt.com\"\n          data-layout=\"button\"\n          data-size=\"small\">\n          <a\n            target=\"_blank\"\n            href={`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}src=sdkpreparse`}\n            className=\"fb-xfbml-parse-ignore\">\n            Share\n          </a>\n        </div>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"twitter-share-button\"\n          href={`${escape('https://twitter.com/intent/tweet?text=' + window.location.href)}`}>\n          Tweet\n        </a>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"github-button\"\n          href=\"https://github.com/denkschuldt/360\"\n          data-color-scheme=\"no-preference: dark; light: dark; dark: dark;\"\n          aria-label=\"Star denkschuldt/360 on GitHub\">\n          Star\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default Viewer;\n","\nimport React, { useState } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport Header from './Header';\nimport Viewer from './Viewer';\n\nimport data from './../data.json';\n\nimport './index.scss';\n\nconst App = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const [ currentIndex, setIndex ] = useState(() => {\n    let storedId = id || localStorage.getItem('my-id');\n    const idx = data.findIndex(p => p.id == storedId);\n    return idx >= 0 ? idx : 0;\n  });\n  const setCurrentIndex = (idx) => {\n    setIndex(idx);\n    localStorage.setItem('my-id', data[idx]?.id);\n  }\n  const isPrevVisible = currentIndex > 0;\n  const isNextVisible = currentIndex < data.length - 1;\n  const previous = () => {\n    if (isPrevVisible) {\n      const item = data[currentIndex - 1];\n      history.push(`/id/${item.id}`);\n      setCurrentIndex(currentIndex - 1);\n    }\n  }\n  const next = () => {\n    if (isNextVisible) {\n      const item = data[currentIndex + 1];\n      history.push(`/id/${item.id}`);\n      setCurrentIndex(currentIndex + 1);\n    }\n  }\n  return (\n    <>\n      <Header/>\n      <main>\n        <button\n          onClick={previous}\n          style={\n            !isPrevVisible ?\n            { visibility: 'hidden' } :\n            {}\n          }\n          className='my-btn-left'>\n          <i className=\"fas fa-arrow-circle-left\"></i>\n        </button>\n        <Viewer\n          idx={currentIndex}\n          total={data.length}\n          {...data[currentIndex]}\n          setCurrentIndex={setCurrentIndex}/>\n        <button\n          onClick={next}\n          style={\n            !isNextVisible ?\n            { visibility: 'hidden' } :\n            {}\n          }\n          className='my-btn-right'>\n          <i className=\"fas fa-arrow-circle-right\"></i>\n        </button>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  BrowserRouter as Router\n} from \"react-router-dom\";\n\nimport App from './components';\n\nimport './index.css';\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Router>\n        <Switch>\n          <Route path=\"/(|id)/:id?\">\n            <App />\n          </Route>\n          <Route>\n            <Redirect to=\"/\"/>\n          </Route>\n        </Switch>\n      </Router>\n    </React.StrictMode>,\n    document.getElementById('AventurasEn360')\n  );\n});\n"],"sourceRoot":""}